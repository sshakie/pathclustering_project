{% extends "base.html" %}
{% block title %} –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–∫–∞–∑—ã {% endblock %}

{% block content %}
<script src="https://api-maps.yandex.ru/2.1/?apikey=048dcdc9-7eb0-4ab1-aee9-f00f7bd7547f&lang=ru_RU"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
<link rel="stylesheet" href="/static/css/homepage/homepage_style.css">
<link rel="stylesheet" href="/static/css/homepage/orders_style.css">
<link rel="stylesheet" href="/static/css/homepage/map_style.css">
<link rel="stylesheet" href="/static/css/homepage/storage_style.css">
<script defer src="/static/script/courier_script.js"></script>


<!--  –ù–ï –£–ë–ò–†–ê–¢–¨!!!! –ë–ï–ó –≠–¢–û–ì–û –ù–ï –ë–£–î–£–¢ –ü–û–†–¢–ò–†–û–í–ê–¢–¨–°–Ø –î–ê–ù–ù–´–ï –ò–ó –®–ê–ë–õ–û–ù–ê –í JS-->
<script>
    const courierOrders = {{ courier_orders | tojson | safe }};
    const depotCoords = {{ project_depot|tojson|safe }}
</script>

<div class="main-wrapper">
    <div class="orders-panel">
    <div class="orders-fixed-header">
        <h2 class="orders-header" style="margin-top: -4px">
            <span class="orders-text" style="font-weight: bold; color:7F7F7F">Orders Count</span>
            <span class="orders-count-wrapper"><span id="orders-count">0</span></span>
        </h2>
        <div class="order-search-wrapper" style="margin-bottom: 10px">
            <input type="text" id="order-search" placeholder="–ù–∞–π—Ç–∏ –∑–∞–∫–∞–∑..."/>
        </div>
    </div>
    <div class="orders-scrollable">
        {% if courier_orders %}
            <div id="orders-list" class="orders-list" style="margin-top: 10px"></div>
        {% else %}
            <div style="text-align: center; font-size: 20px; font-weight: bold; color: #ccc">–∑–¥–µ—Å—å –ø—É—Å—Ç–æ..</div>
        {% endif %}
    </div>
    </div>

    <div class="map-block">
        <div class="top-controls">
            <div class="address-search-wrapper" id="address-search-wrapper" style="margin-top: -1px">
                <input type="text" id="address-search" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å..."/>
                <button id="address-search-btn">üîç</button>
            </div>
        </div>

        <div class="map-wrapper" id="map-wrapper" style="height: 792px">
            <div id="map" class="map"></div>
        </div>
    </div>
</div>
{% endblock %}